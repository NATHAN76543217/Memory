{"ast":null,"code":"import axios from \"axios\";\nconst headers = {\n  \"Content-Type\": \"application/json\"\n};\nconst burl = \"http://localhost:8800\";\nexport default API = {\n  login: function (email, password) {\n    //create a POST http request\n    return axios.post(`${burl}/login`, {\n      email,\n      password\n    }, {\n      headers: headers\n    });\n  },\n  signup: function (send) {\n    return axios.post(`${burl}/signup`, send, {\n      headers: headers\n    });\n  },\n  isAuth: function () {\n    console.log(\"in Auth: \" + localStorage.getItem(\"token\"));\n    const ret = localStorage.getItem(\"token\") !== null;\n    console.log(\"IsAuth: \" + ret);\n    return null;\n  },\n  logout: function () {\n    localStorage.clear();\n  },\n  getToken: function () {\n    return localStorage.getItem(\"token\");\n  },\n  getUserInfo: function () {\n    console.log(\"get user data start\");\n    this.logout();\n\n    if (this.isAuth) {\n      console.log(\"Is log: true\");\n      let tk = this.getToken();\n      console.log(\"tk: \" + tk);\n      return axios.put(`${burl}/info`, {\n        token: tk\n      }, {\n        headers: headers\n      });\n    }\n\n    return null;\n  }\n};","map":{"version":3,"sources":["/Users/sebastienlecaille/programmation/web/memory/client/src/utils/API.js"],"names":["axios","headers","burl","API","login","email","password","post","signup","send","isAuth","console","log","localStorage","getItem","ret","logout","clear","getToken","getUserInfo","tk","put","token"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG;AACf,kBAAgB;AADD,CAAhB;AAGA,MAAMC,IAAI,GAAG,uBAAb;AAEA,eAAeC,GAAG,GAAG;AACpBC,EAAAA,KAAK,EAAE,UAASC,KAAT,EAAgBC,QAAhB,EAA0B;AAChC;AACA,WAAON,KAAK,CAACO,IAAN,CACL,GAAEL,IAAK,QADF,EAEN;AACCG,MAAAA,KADD;AAECC,MAAAA;AAFD,KAFM,EAMN;AACCL,MAAAA,OAAO,EAAEA;AADV,KANM,CAAP;AAUA,GAbmB;AAcpBO,EAAAA,MAAM,EAAE,UAASC,IAAT,EAAe;AACtB,WAAOT,KAAK,CAACO,IAAN,CAAY,GAAEL,IAAK,SAAnB,EAA6BO,IAA7B,EAAmC;AAAER,MAAAA,OAAO,EAAEA;AAAX,KAAnC,CAAP;AACA,GAhBmB;AAkBpBS,EAAAA,MAAM,EAAE,YAAW;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAcC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA1B;AACA,UAAMC,GAAG,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,MAAkC,IAA9C;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAaG,GAAzB;AACA,WAAO,IAAP;AACA,GAvBmB;AAwBpBC,EAAAA,MAAM,EAAE,YAAW;AAClBH,IAAAA,YAAY,CAACI,KAAb;AACA,GA1BmB;AA2BpBC,EAAAA,QAAQ,EAAE,YAAW;AACpB,WAAOL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP;AACA,GA7BmB;AA8BpBK,EAAAA,WAAW,EAAE,YAAW;AACvBR,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,SAAKI,MAAL;;AACA,QAAI,KAAKN,MAAT,EAAgB;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,UAAIQ,EAAE,GAAG,KAAKF,QAAL,EAAT;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,SAASQ,EAArB;AACA,aAAOpB,KAAK,CAACqB,GAAN,CAAW,GAAEnB,IAAK,OAAlB,EAA0B;AAACoB,QAAAA,KAAK,EAAEF;AAAR,OAA1B,EAAuC;AAACnB,QAAAA,OAAO,EAAEA;AAAV,OAAvC,CAAP;AACA;;AACD,WAAO,IAAP;AACA;AAxCmB,CAArB","sourcesContent":["\nimport axios from \"axios\";\nconst headers = {\n\t\"Content-Type\": \"application/json\"\n};\nconst burl = \"http://localhost:8800\";\n\nexport default API = {\n\tlogin: function(email, password) {\n\t\t//create a POST http request\n\t\treturn axios.post(\n\t\t\t`${burl}/login`,\n\t\t\t{\n\t\t\t\temail,\n\t\t\t\tpassword\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: headers\n\t\t\t}\n\t\t);\n\t},\n\tsignup: function(send) {\n\t\treturn axios.post(`${burl}/signup`, send, { headers: headers });\n\t},\n\n\tisAuth: function() {\n\t\tconsole.log(\"in Auth: \" + localStorage.getItem(\"token\"));\n\t\tconst ret = localStorage.getItem(\"token\") !== null ;\n\t\tconsole.log(\"IsAuth: \" + ret);\n\t\treturn null;\n\t},\n\tlogout: function() {\n\t\tlocalStorage.clear();\n\t},\n\tgetToken: function() {\n\t\treturn localStorage.getItem(\"token\");\n\t},\n\tgetUserInfo: function() {\n\t\tconsole.log(\"get user data start\");\n\t\tthis.logout();\n\t\tif (this.isAuth){\n\t\t\tconsole.log(\"Is log: true\");\n\t\t\tlet tk = this.getToken();\n\t\t\tconsole.log(\"tk: \" + tk);\n\t\t\treturn axios.put(`${burl}/info`, {token: tk}, {headers: headers});\n\t\t}\n\t\treturn null;\n\t}\n};"]},"metadata":{},"sourceType":"module"}