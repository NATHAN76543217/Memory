{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/sebastienlecaille/programmation/web/memory/src/Memory.js\";\nimport './Memory.css';\nimport Board from './Board';\nimport React from 'react';\nimport img_loader from './images';\nimport PropTypes from 'prop-types';\n\nclass Memory extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      card_list: this.load_cards(),\n      flipped: [],\n      nb_row: 5,\n      nb_col: 6\n    };\n    this.clickOnCard.bind(this);\n  }\n\n  test_match() {}\n\n  clickOnCard(fruit) {\n    if (fruit.visible) {\n      return;\n    }\n\n    const lst = this.state.card_list.slice();\n    const ndx = lst.findIndex(f => f.k === fruit.k);\n    lst[ndx].visible = true;\n    console.log(\"set visible: key=\" + fruit.k + \" et id=\" + fruit.id);\n    this.setState({\n      card_list: lst,\n      flipped: [this.state.flipped, fruit]\n    });\n    test_match();\n  }\n\n  load_cards() {\n    const fruits = img_loader();\n    let dup = [];\n    fruits.forEach(f => dup.push({ ...f\n    }));\n    dup.forEach(elem => elem.k = elem.id + dup.length);\n    const cards = [...fruits, ...dup];\n    console.log(\"set a donne of \" + cards.length + \" cards\");\n    console.log(cards);\n    return cards; //\t\treturn cards;\n  }\n\n  render() {\n    console.log(\"flipped :\" + this.state.flipped);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game_field\",\n      children: /*#__PURE__*/_jsxDEV(Board, {\n        donne: this.state.card_list,\n        onClick: i => this.clickOnCard(i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 3\n    }, this);\n  }\n\n}\n\nexport default Memory;\n/*\n\n\n<Grid container spacing={1} >\n            <Grid container item xs={12} spacing={3}>\n                <FormRow row_size={this.state.nb_row}/>\n            </Grid>\n\t\t</Grid>\n\t\t*/","map":{"version":3,"sources":["/Users/sebastienlecaille/programmation/web/memory/src/Memory.js"],"names":["Board","React","img_loader","PropTypes","Memory","Component","constructor","props","state","card_list","load_cards","flipped","nb_row","nb_col","clickOnCard","bind","test_match","fruit","visible","lst","slice","ndx","findIndex","f","k","console","log","id","setState","fruits","dup","forEach","push","elem","length","cards","render","i"],"mappings":";;AAAA,OAAO,cAAP;AACA,OAAOA,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,UAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAIA,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CACA;AACCC,EAAAA,WAAW,CAACC,KAAD,EACX;AACC,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,SAAS,EAAE,KAAKC,UAAL,EADC;AAEZC,MAAAA,OAAO,EAAE,EAFG;AAGZC,MAAAA,MAAM,EAAE,CAHI;AAIZC,MAAAA,MAAM,EAAE;AAJI,KAAb;AAMA,SAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB;AACA;;AACDC,EAAAA,UAAU,GACV,CAEC;;AAEDF,EAAAA,WAAW,CAACG,KAAD,EACX;AACC,QAAIA,KAAK,CAACC,OAAV,EACA;AACC;AACA;;AAEA,UAAMC,GAAG,GAAG,KAAKX,KAAL,CAAWC,SAAX,CAAqBW,KAArB,EAAZ;AACA,UAAMC,GAAG,GAAGF,GAAG,CAACG,SAAJ,CAAcC,CAAC,IAAIA,CAAC,CAACC,CAAF,KAAQP,KAAK,CAACO,CAAjC,CAAZ;AACAL,IAAAA,GAAG,CAACE,GAAD,CAAH,CAASH,OAAT,GAAmB,IAAnB;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsBT,KAAK,CAACO,CAA5B,GAAgC,SAAhC,GAA4CP,KAAK,CAACU,EAA9D;AACA,SAAKC,QAAL,CAAc;AACbnB,MAAAA,SAAS,EAAEU,GADE;AAEbR,MAAAA,OAAO,EAAE,CAAC,KAAKH,KAAL,CAAWG,OAAZ,EAAqBM,KAArB;AAFI,KAAd;AAIAD,IAAAA,UAAU;AAEX;;AAEFN,EAAAA,UAAU,GACT;AACC,UAAMmB,MAAM,GAAG3B,UAAU,EAAzB;AACA,QAAI4B,GAAG,GAAG,EAAV;AACAD,IAAAA,MAAM,CAACE,OAAP,CAAeR,CAAC,IACfO,GAAG,CAACE,IAAJ,CAAS,EAAC,GAAGT;AAAJ,KAAT,CADD;AAEAO,IAAAA,GAAG,CAACC,OAAJ,CAAYE,IAAI,IAAIA,IAAI,CAACT,CAAL,GAASS,IAAI,CAACN,EAAL,GAAUG,GAAG,CAACI,MAA3C;AACA,UAAMC,KAAK,GAAG,CAAC,GAAGN,MAAJ,EAAY,GAAGC,GAAf,CAAd;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAoBS,KAAK,CAACD,MAA1B,GAAmC,QAA/C;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACA,WAAOA,KAAP,CATD,CAUD;AACC;;AAECC,EAAAA,MAAM,GAAE;AACNX,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAc,KAAKlB,KAAL,CAAWG,OAArC;AAEH,wBACC;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACQ,QAAC,KAAD;AAAO,QAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,SAAzB;AAAoC,QAAA,OAAO,EAAG4B,CAAD,IAAO,KAAKvB,WAAL,CAAiBuB,CAAjB;AAApD;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA,YADD;AAIG;;AAzDJ;;AA2DA,eAAejC,MAAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import './Memory.css';\nimport Board from './Board'\nimport React from 'react';\nimport img_loader from './images'\nimport PropTypes from 'prop-types'\n\n\n\nclass Memory extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcard_list: this.load_cards(),\n\t\t\tflipped: [],\n\t\t\tnb_row: 5,\n\t\t\tnb_col: 6,\n\t\t};\n\t\tthis.clickOnCard.bind(this);\n\t}\n\ttest_match()\n\t{\n\t\t\n\t}\n\n\tclickOnCard(fruit)\n\t{\n\t\tif (fruit.visible)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\t\tconst lst = this.state.card_list.slice(); \n\t\t\tconst ndx = lst.findIndex(f => f.k === fruit.k);\n\t\t\tlst[ndx].visible = true;\n\t\t\tconsole.log(\"set visible: key=\" + fruit.k + \" et id=\" + fruit.id);\n\t\t\tthis.setState({\n\t\t\t\tcard_list: lst,\n\t\t\t\tflipped: [this.state.flipped, fruit],\n\t\t\t})\n\t\t\ttest_match();\n\n\t}\n\nload_cards()\n\t{\n\t\tconst fruits = img_loader();\n\t\tlet dup = [];\n\t\tfruits.forEach(f => \n\t\t\tdup.push({...f}));\n\t\tdup.forEach(elem => elem.k = elem.id + dup.length);\n\t\tconst cards = [...fruits, ...dup];\n\t\tconsole.log(\"set a donne of \" + cards.length + \" cards\");\n\t\tconsole.log(cards);\n\t\treturn cards;\n//\t\treturn cards;\n}\n\n  render(){\n    console.log(\"flipped :\" + this.state.flipped);\n\n\treturn (\n\t\t<div className=\"game_field\">\n    \t    \t<Board donne={this.state.card_list} onClick={(i) => this.clickOnCard(i)}/>\n\t\t</div>\n\t\t)}\n}\nexport default Memory;\n/*\n\n\n<Grid container spacing={1} >\n            <Grid container item xs={12} spacing={3}>\n                <FormRow row_size={this.state.nb_row}/>\n            </Grid>\n\t\t</Grid>\n\t\t*/"]},"metadata":{},"sourceType":"module"}